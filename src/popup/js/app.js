(function(e){function r(r){for(var n,a,o=r[0],u=r[1],s=r[2],f=0,d=[];f<o.length;f++)a=o[f],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(r);while(d.length)d.shift()();return c.push.apply(c,s||[]),t()}function t(){for(var e,r=0;r<c.length;r++){for(var t=c[r],n=!0,o=1;o<t.length;o++){var u=t[o];0!==i[u]&&(n=!1)}n&&(c.splice(r--,1),e=a(a.s=t[0]))}return e}var n={},i={app:0},c=[];function a(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=n,a.d=function(e,r,t){a.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,r){if(1&r&&(e=a(e)),8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)a.d(t,n,function(r){return e[r]}.bind(null,n));return t},a.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(r,"a",r),r},a.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},a.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=r,o=o.slice();for(var s=0;s<o.length;s++)r(o[s]);var l=u;c.push([0,"chunk-vendors"]),t()})({0:function(e,r,t){e.exports=t("56d7")},"034f":function(e,r,t){"use strict";var n=t("64a9"),i=t.n(n);i.a},"56d7":function(e,r,t){"use strict";t.r(r);t("cadf"),t("551c"),t("f751"),t("097d");var n=t("2b0e"),i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"app"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],ref:"inputSearchQuery",attrs:{id:"inputSearchQuery",placeholder:"入力してEnterで検索"},domProps:{value:e.searchQuery},on:{keyup:[e.onKeyupInputSearchQuery,function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.enterInputSearchQuery(r)}],keydown:[function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"up",38,r.key,["Up","ArrowUp"])?null:e.shiftSelectedItem(-1,r)},function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"down",40,r.key,["Down","ArrowDown"])?null:e.shiftSelectedItem(1,r)}],change:function(r){e.selectedBookmarkIndex=-1},input:function(r){r.target.composing||(e.searchQuery=r.target.value)}}}),t("div",{attrs:{id:"searchOptions"}},[t("div",{attrs:{id:"selectSearchOrAnd"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectSearchOrAnd,expression:"selectSearchOrAnd"}],attrs:{type:"radio",id:"selectSearchOrAnd-AND",value:"AND"},domProps:{checked:e._q(e.selectSearchOrAnd,"AND")},on:{change:function(r){e.selectSearchOrAnd="AND"}}}),t("label",{attrs:{for:"selectSearchOrAnd-AND"}},[e._v("AND")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectSearchOrAnd,expression:"selectSearchOrAnd"}],attrs:{type:"radio",id:"selectSearchOrAnd-OR",value:"OR"},domProps:{checked:e._q(e.selectSearchOrAnd,"OR")},on:{change:function(r){e.selectSearchOrAnd="OR"}}}),t("label",{attrs:{for:"selectSearchOrAnd-OR"}},[e._v("OR")])]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.useRegExp,expression:"useRegExp"}],attrs:{type:"checkbox",id:"checkboxUseRegExpSearch"},domProps:{checked:Array.isArray(e.useRegExp)?e._i(e.useRegExp,null)>-1:e.useRegExp},on:{change:function(r){var t=e.useRegExp,n=r.target,i=!!n.checked;if(Array.isArray(t)){var c=null,a=e._i(t,c);n.checked?a<0&&(e.useRegExp=t.concat([c])):a>-1&&(e.useRegExp=t.slice(0,a).concat(t.slice(a+1)))}else e.useRegExp=i}}}),t("label",{attrs:{for:"checkboxUseRegExpSearch"}},[e._v("正規表現を使用")])])]),t("div",{attrs:{id:"bookmarkList"}},[e._l(e.bookmarks,(function(r,n){return t("BookmarkItem",{key:r.id,class:{selected:n===e.selectedBookmarkIndex},attrs:{item:r},on:{openurl:e.onOpenUrlByBkm}})})),0===e.bookmarks.length&&"ready"!==e.state?t("div",{attrs:{id:"bookmarkListNotice"}},[e._v("一致するブックマークはありません")]):e._e()],2)])},c=[],a=(t("7514"),t("bd86")),o=(t("28a5"),t("ac6a"),t("75fc")),u=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("a",{staticClass:"outer",attrs:{href:e.item.url},on:{click:e.onClickLink}},[t("div",{staticClass:"bookmarkItem"},[t("span",{staticClass:"icon"},[t("img",{attrs:{src:e.favicon}})]),t("span",{staticClass:"title"},[e._v(e._s(e.item.title))])])])},s=[],l={name:"BookmarkItem",props:{item:null,required:!0},computed:{favicon:function(){return"chrome://favicon/"+this.item.url}},methods:{onClickLink:function(e){this.$emit("openurl",{url:this.item.url,newTab:e.ctrlKey,active:!e.shiftKey})}}},f=l,d=(t("aeb3"),t("2877")),h=Object(d["a"])(f,u,s,!1,null,"a2d7a8d4",null),p=h.exports,m=t("768b");t("2fdb"),t("6762"),t("4917"),t("3b2b"),t("aef6"),t("f559");function v(e,r,t){if(!target||!array)return!1;var n=target.length,i=array.length;if(n!==i)return!1;t||(t=function(e,r){return e===r});for(var c=0;c<i;c++)if(!t(target[c],array[c]))return!1;return!0}function k(e,r,t){if(!e||!r)return!1;var n=e.length,i=r.length,c=n-i;if(c<0)return!1;t||(t=function(e,r){return e===r});for(var a=0;a<=c;a++){for(var o=!0,u=0;u<i;u++)if(!t(e[u+a],r[u])){o=!1;break}if(o)return!0}return!1}function g(e,r,t){if(!e||!r)return!1;var n=e.length,i=r.length,c=n-i;if(c<0)return!1;t||(t=function(e,r){return e===r});for(var a=0;a<i;a++)if(!t(e[a],r[a]))return!1;return!0}function y(e,r,t){if(!e||!r)return!1;var n=e.length,i=r.length,c=n-i;if(c<0)return!1;t||(t=function(e,r){return e===r});for(var a=0;a<i;a++)if(!t(e[a+c],r[a]))return!1;return!0}function b(e,r,t){var n,i,c=e.split("/"),a=e.startsWith("/"),o=e.endsWith("/");return a&&o?(c=c.slice(1,c.length-1),n=v):a?(c=c.slice(1),n=g):o?(c=c.slice(0,c.length-1),n=y):n=k,t&&(c=c.map((function(e){return new RegExp(e,"i")})),i=function(e,r){return e.match(r)}),function(e){return r^n(e.dirs,c,i)}}var O={dir:b},x=["title","url"];function S(e,r,t,n){if(x.includes(e)){if(n){var i=new RegExp(r,"i");return function(r){return t^r[e].match(i)}}return function(n){return t^n[e].includes(r)}}return null}function A(e,r,t,n){var i,c=O[e];return Array.isArray(c)?(1===c.length?i=0:2===c.length?i=n?0:1:4===c.length&&(i=n?t?1:0:t?3:2),c[i](r,t,n)):c(r,t,n)}function R(e,r,t){var n=e.split(":",2);if(":"!==e&&2===n.length){var i=Object(m["a"])(n,2),c=i[0],a=i[1],o=S(c,a,r,t);if(o)return o;var u=A(c,a,r,t);if(u)return u}if(t){var s=new RegExp(e,"i");return r?function(e){return!e.title.match(s)&&!e.url.match(s)}:function(e){return e.title.match(s)||e.url.match(s)}}return r?function(r){return!r.title.includes(e)&&!r.url.includes(e)}:function(r){return r.title.includes(e)||r.url.includes(e)}}function w(e,r){var t=e.startsWith("-")&&e.length>1;return t&&(e=e.substr(1)),R(e,t,r)}function E(e,r){r||(r=[]);var t=e.children?e.children.map((function(t){return E(t,[].concat(Object(o["a"])(r),[e.title]))})):null;return{id:e.id,title:e.title,url:e.url,dirs:r,children:t}}function _(e,r){var t=[];function n(e){e.forEach((function(e){e.children?n(e.children):t.push(e)}))}return n(e),t}function I(e,r,t){if(!e||0===e.length)return[];var n=e.split(/[　 ㅤ]+/g).filter((function(e){return e.length>0})).map((function(e){return w(e,t)})).filter((function(e){return null!==e}));if(0===n.length)return[];var i="OR"===r?n.some.bind(n):n.every.bind(n);return j.filter((function(e){return i((function(r){return r(e)}))}))}function B(e,r,t){r?chrome.tabs.create({url:e,active:t},(function(e){return null})):chrome.tabs.update(null,{url:e},(function(e){return null}))}var j=[],D={name:"app",components:{BookmarkItem:p},data:function(){return{bookmarks:[],searchQuery:"",selectSearchOrAnd:"AND",useRegExp:!1,selectedBookmarkIndex:-1,state:"ready"}},watch:{useRegExp:function(e){this.saveSyncStorage("searchUseRegExp",e)},selectSearchOrAnd:function(e){this.saveSyncStorage("searchOrAnd",e)}},mounted:function(){var e=this;chrome.storage.sync.get(["searchUseRegExp","searchOrAnd"],(function(r){void 0===r.searchUseRegExp?(e.useRegExp=!1,e.saveSyncStorage("searchUseRegExp",!1)):e.useRegExp=r.searchUseRegExp,void 0===r.searchOrAnd?(e.selectSearchOrAnd="AND",e.saveSyncStorage("searchOrAnd","AND")):e.selectSearchOrAnd=r.searchOrAnd})),this.loadBookmarks(),this.$refs.inputSearchQuery.focus()},methods:{openURL:B,saveSyncStorage:function(e,r,t){chrome.storage.sync.set(Object(a["a"])({},e,r),(function(){t&&t()}))},onKeyupInputSearchQuery:function(){},find:function(e){e||(e=this.searchQuery),this.selectedBookmarkIndex=-1,this.bookmarks=I(e,this.selectSearchOrAnd,this.useRegExp),console.log(this.bookmarks),this.state=this.bookmarks.length>0?"result":"empty"},enterInputSearchQuery:function(e){this.selectedBookmarkIndex>-1?B(this.bookmarks[this.selectedBookmarkIndex].url,e.ctrlKey,!e.shiftKey):this.find()},loadBookmarks:function(){chrome.bookmarks.getTree((function(e){1===e.length&&""===e[0].title&&e[0].children&&(e=e[0].children);var r=e.map((function(e){return E(e,[])}));j=_(r)}))},shiftSelectedItem:function(e,r){if(!r.ctrlKey)return!0;var t=this.selectedBookmarkIndex+e;return t>-1&&this.bookmarks.length>t&&(this.selectedBookmarkIndex=t),r.preventDefault(),!1},onOpenUrlByBkm:function(e){B(e.url,e.newTab,e.active)},onKeydown:function(e){if(e.ctrlKey&&("ArrowUp"===e.key||"ArrowDown"===e.key))return e.preventDefault(),!1}}},N=D,Q=(t("034f"),Object(d["a"])(N,i,c,!1,null,null,null)),U=Q.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(U)}}).$mount("#app")},"64a9":function(e,r,t){},aeb3:function(e,r,t){"use strict";var n=t("b331"),i=t.n(n);i.a},b331:function(e,r,t){}});
//# sourceMappingURL=app.js.map